package GUI;

import DLL.ControllerVuelo;

import javax.swing.*;
import javax.swing.border.EmptyBorder;
import java.awt.*;
import java.awt.event.ActionEvent;

public class PantallaCrearVuelo extends JFrame {
    private JPanel contentPane;
    private JTextField origenField;
    private JTextField destinoField;
    private JTextField fechaSalidaField;
    private JTextField fechaLlegadaField;
    private JTextField precioEconomicaField;
    private JTextField precioPremiumField;
    private JTextField precioPrimeraField;
    private JTextField capacidadEconomicaField;
    private JTextField capacidadPremiumField;
    private JTextField capacidadPrimeraField;

    public PantallaCrearVuelo(String nombreUsuario) {
        setTitle("Crear Vuelo");
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setBounds(100, 100, 450, 600);
        contentPane = new JPanel();
        contentPane.setBackground(new Color(0, 128, 128));
        contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));
        setContentPane(contentPane);
        contentPane.setLayout(null);

        JLabel lblTitulo = new JLabel("Crear Vuelo");
        lblTitulo.setFont(new Font("Arial", Font.BOLD, 20));
        lblTitulo.setBounds(150, 10, 150, 30);
        lblTitulo.setHorizontalAlignment(SwingConstants.CENTER);
        contentPane.add(lblTitulo);

        JLabel lblOrigen = new JLabel("Origen:");
        lblOrigen.setBounds(50, 60, 150, 25);
        contentPane.add(lblOrigen);

        origenField = new JTextField();
        origenField.setBounds(200, 60, 150, 25);
        contentPane.add(origenField);

        JLabel lblDestino = new JLabel("Destino:");
        lblDestino.setBounds(50, 100, 150, 25);
        contentPane.add(lblDestino);

        destinoField = new JTextField();
        destinoField.setBounds(200, 100, 150, 25);
        contentPane.add(destinoField);

        JLabel lblFechaSalida = new JLabel("Fecha Salida:");
        lblFechaSalida.setBounds(50, 140, 150, 25);
        contentPane.add(lblFechaSalida);

        fechaSalidaField = new JTextField();
        fechaSalidaField.setBounds(200, 140, 150, 25);
        contentPane.add(fechaSalidaField);

        JLabel lblFechaLlegada = new JLabel("Fecha Llegada:");
        lblFechaLlegada.setBounds(50, 180, 150, 25);
        contentPane.add(lblFechaLlegada);

        fechaLlegadaField = new JTextField();
        fechaLlegadaField.setBounds(200, 180, 150, 25);
        contentPane.add(fechaLlegadaField);

        JLabel lblPrecioEconomica = new JLabel("Precio Económica:");
        lblPrecioEconomica.setBounds(50, 220, 150, 25);
        contentPane.add(lblPrecioEconomica);

        precioEconomicaField = new JTextField();
        precioEconomicaField.setBounds(200, 220, 150, 25);
        contentPane.add(precioEconomicaField);

        JLabel lblPrecioPremium = new JLabel("Precio Premium:");
        lblPrecioPremium.setBounds(50, 260, 150, 25);
        contentPane.add(lblPrecioPremium);

        precioPremiumField = new JTextField();
        precioPremiumField.setBounds(200, 260, 150, 25);
        contentPane.add(precioPremiumField);

        JLabel lblPrecioPrimera = new JLabel("Precio Primera:");
        lblPrecioPrimera.setBounds(50, 300, 150, 25);
        contentPane.add(lblPrecioPrimera);

        precioPrimeraField = new JTextField();
        precioPrimeraField.setBounds(200, 300, 150, 25);
        contentPane.add(precioPrimeraField);

        JLabel lblCapacidadEconomica = new JLabel("Capacidad Económica:");
        lblCapacidadEconomica.setBounds(50, 340, 150, 25);
        contentPane.add(lblCapacidadEconomica);

        capacidadEconomicaField = new JTextField();
        capacidadEconomicaField.setBounds(200, 340, 150, 25);
        contentPane.add(capacidadEconomicaField);

        JLabel lblCapacidadPremium = new JLabel("Capacidad Premium:");
        lblCapacidadPremium.setBounds(50, 380, 150, 25);
        contentPane.add(lblCapacidadPremium);

        capacidadPremiumField = new JTextField();
        capacidadPremiumField.setBounds(200, 380, 150, 25);
        contentPane.add(capacidadPremiumField);

        JLabel lblCapacidadPrimera = new JLabel("Capacidad Primera:");
        lblCapacidadPrimera.setBounds(50, 420, 150, 25);
        contentPane.add(lblCapacidadPrimera);

        capacidadPrimeraField = new JTextField();
        capacidadPrimeraField.setBounds(200, 420, 150, 25);
        contentPane.add(capacidadPrimeraField);

        JButton btnGuardar = new JButton("Guardar Vuelo");
        btnGuardar.setBounds(75, 480, 130, 30);
        btnGuardar.addActionListener(e -> {
            String origen = origenField.getText();
            String destino = destinoField.getText();
            String fechaSalida = fechaSalidaField.getText();
            String fechaLlegada = fechaLlegadaField.getText();
            double precioEconomica = Double.parseDouble(precioEconomicaField.getText());
            double precioPremium = Double.parseDouble(precioPremiumField.getText());
            double precioPrimera = Double.parseDouble(precioPrimeraField.getText());
            int capacidadEconomica = Integer.parseInt(capacidadEconomicaField.getText());
            int capacidadPremium = Integer.parseInt(capacidadPremiumField.getText());
            int capacidadPrimera = Integer.parseInt(capacidadPrimeraField.getText());

            ControllerVuelo.crearVuelo(origen, destino, fechaSalida, fechaLlegada,
                    precioEconomica, precioPremium, precioPrimera,
                    capacidadEconomica, capacidadPremium, capacidadPrimera);

            JOptionPane.showMessageDialog(null, "Vuelo creado exitosamente.");
            dispose();
            new PantallaAdmin(nombreUsuario).setVisible(true);
        });
        contentPane.add(btnGuardar);

        JButton btnVolver = new JButton("Volver");
        btnVolver.setBounds(225, 480, 130, 30);
        btnVolver.addActionListener(e -> {
            dispose();
            new PantallaAdmin(nombreUsuario).setVisible(true);
        });
        contentPane.add(btnVolver);
    }
}

